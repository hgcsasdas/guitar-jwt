<p *ngIf="errorMessage.length !== 0" class="text-red-500">{{ errorMessage }}</p>

<div *ngIf="(userLoginOn && !editMode) || !userLoginOn" class="mt-4 bg-white p-4 rounded shadow-md ">
  <p><b>Nombre:</b> {{ user?.firstname }}</p>
  <p><b>Apellido:</b> {{ user?.lastname }}</p>
  <p><b>País:</b> {{ user?.country }}</p>
  <div class="flex justify-center items-center">
    <button *ngIf="userLoginOn && !editMode" (click)="editMode = true" class="px-4 py-2 mt-2 text-white bg-gray-800 rounded flex items-center">
      ✏️ Editar Datos
    </button>
  </div>
</div>

<form *ngIf="userLoginOn && editMode" [formGroup]="registerForm" class=" bg-white p-4 rounded shadow-md ">
  <div class="mb-4">
    <label for="inputFirstName" class="block text-sm font-medium text-gray-700">Nombre</label>
    <div class="mt-1">
      <input type="text" formControlName="firstname" class="p-2 border w-full" id="inputFirstName" />
      <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="text-red-500">
        <div *ngIf="firstname.errors?.['required']">
          El Nombre es requerido.
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4">
    <label for="inputLasttName" class="block text-sm font-medium text-gray-700">Apellido</label>
    <div class="mt-1">
      <input type="text" formControlName="lastname" class="p-2 border w-full" id="inputLasttName" />
      <div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="text-red-500">
        <div *ngIf="lastname.errors?.['required']">
          El Apellido es requerido.
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4">
    <label for="inputCountry" class="block text-sm font-medium text-gray-700">País</label>
    <div class="mt-1">
      <input type="text" formControlName="country" class="p-2 border w-full" id="inputCountry" />
      <div *ngIf="country.invalid && (country.dirty || country.touched)" class="text-red-500">
        <div *ngIf="country.errors?.['required']">El País es requerido.</div>
      </div>
    </div>
  </div>

  <div class="flex justify-center ">
    <button type="submit" (click)="savePersonalDetailsData()" class="px-4 py-2 mt-3 text-white bg-gray-800 rounded">
      Guardar
    </button>
    <a class="px-4 py-2 mt-3 ml-2 text-white bg-red-500 rounded" (click)="editMode = false">Cancelar</a>
  </div>
</form>
